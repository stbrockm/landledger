<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="css/index.css">
  </head>
<body>

<form id="frm1" action="/farmerQR.html">
  Weight: <input type="text" name="lweight" value="0"> kg<br>
  Quality: <input type="text" name="lquality" value=""> best: A-B-C-D-E :worst<br>
</form>

<p>Click "Display debugOut" to display the value of each element in the form.</p>
<button onclick="getLocation()">Display Location</button>
<button onclick="debugOut()">Display debugOut</button>
<button onclick="attachToTangle()">Attach to tangle</button>
<button id="displayHash">Display QR of Hash</button>
<br>
<p id="demo"></p>
<p id="demo2"></p>
<br>
<div id="qrcode"></div>


<script>
function debugOut() {
    var currentdate = new Date();
    var datetime = "Last Sync: " + currentdate.getDate() + "/"
                + (currentdate.getMonth()+1)  + "/"
                + currentdate.getFullYear() + " @ "
                + currentdate.getHours() + ":"
                + currentdate.getMinutes() + ":"
                + currentdate.getSeconds();

    var x = document.getElementById("frm1");
    var text = "";
    var i;
    for (i = 0; i < x.length ;i++) {
        text += x.elements[i].value + "<br>";
    }
    text += datetime;
    document.getElementById("demo").innerHTML = text;
}
function updateTextInput(textID,val) {
    document.getElementById(textID).value=val;
}
</script>
<script src="qrcode.js"></script>
<script>
var qrcode = new QRCode("qrcode", {
    text: "http://www.bookofgenesis.com",
    width: 256,
    height: 256,
    colorDark : "#000000",
    colorLight : "#ffffff",
    correctLevel : QRCode.CorrectLevel.H
});
var disp=false;
document.getElementById("displayHash").addEventListener("click", function(){
  qrcode.clear(); // clear the code.
  qrcode.makeCode("dsf"); // make another code.
  if (!disp) {
    document.getElementById("qrcode").style.display = "block";
    disp=true;
  }
  else {
    document.getElementById("qrcode").style.display = "none";
    disp=false;
  }
});
</script>
<script>
var x = document.getElementById("demo2");

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    } else {
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}
function showPosition(position) {
    x.innerHTML = "Latitude: " + position.coords.latitude +
    "<br>Longitude: " + position.coords.longitude;
}
</script>

</body>
</html>
